{% extends 'UserProfesionalBundle:Default:settings_layout.html.twig' %}
{% set secondary_active = 'styles' %}

{% block stylesheets %}
    <link href="{{ asset('bundles/coreresources/select2/select2.css') }}" rel="stylesheet" />
    <link href="{{ asset('bundles/coreresources/colorpicker/css/colorpicker.css') }}" rel="stylesheet"/>
    {{ form_stylesheet(form) }}
{% endblock %}
{% block javascripts %}

    <script src="{{ asset('bundles/coreresources/select2/select2.js') }}"></script>
    <script src="{{ asset('bundles/coreresources/select2/select2_locale_es.js') }}"></script>
    <script src="{{ asset('bundles/coreresources/colorpicker/js/colorpicker.js') }}"></script>

    <script type="text/javascript">
        $field = $('#user_profesionalbundle_welcometype_skills');

        var $configs = {"placeholder":"Select a value","allowClear":false,"minimumInputLength":1,"width":"element"};

        // custom configs
        $configs = $.extend($configs, {
            query: function (query) {

               function callback(data){

                   query.callback(data);
               }

                $.post('{{ path('profesional_json_skills') }}',
                        { query: query.term}, function(r) {
                            var obj = JSON.parse(r);
                            var data2 = {results: []}

                            if($.isEmptyObject(obj) == false){
                                $.each(obj, function(i){

                                    var item = obj[i];

                                    var d  = {id: item.id, text: item.name};

                                    data2.results.push(d)

                                });

                            }else{
                                console.log('No results');
                                data2.results.push({id: query.term, text: query.term})

                            }

                            callback(data2);

                        });



            },
            multiple: true

        });
        // end of custom configs

        $field.select2($configs);
    </script>


{% endblock %}


{% block panel %}

<h5 class="widget-name"><i class="icon-picture"></i> Personaliza tu consulta profesional</h5>
    <div class="row-fluid">
        <div class="span12">
            <div class="alert">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                El area de videoconferencia o consulta es la sección que te permite comunicarte de manera dinamica con tus clientes. Desde este formulario podrás configurar pequeños aspectos sobre esta.
            </div>
        </div>
    </div>
<div class="row-fluid">


    <div class="span12">

        <form method="post" class="form form-horizontal" {{form_enctype(form) }}>
        <fieldset>
            <div class="widget">
            <div class="well">
                    <div class="control-group">
                        <div class="span4 offset2">
                            <h3>Logotipo</h3>
                            <span>Dimensiones recomendadas: 500x180</span>
                        </div>
                        <div class="span6">
                            {{ form_widget(form.file) }}
                        </div>

                    </div>

                    <div class="control-group">
                        <div class="span4 offset2">
                            <h3>Color Frontal</h3>
                            <span>Color del fondo de la consulta</span>
                        </div>
                        <div class="span4">
                            {{ form_widget(form.color_bg_main) }}
                        </div>

                    </div>

                    <div class="control-group">
                        <div class="span4 offset2">
                            <h3>Color Caja</h3>
                            <span>Color de la caja de "identificación" de la plataforma</span>
                        </div>
                        <div class="span4">
                            {{ form_widget(form.color_bg_secd) }}
                        </div>

                    </div>

                    <div class="control-group">
                        <div class="span4 offset2">
                            <h3>Color de los botones</h3>
                            <span>Color de los botones de la consulta</span>
                        </div>
                        <div class="span4">
                            {{ form_widget(form.color_button) }}
                        </div>

                    </div>

                    <div class="control-group">
                        <div class="span4 offset2">
                            <h3>Color del Texto</h3>
                            <span>Color del texto de los botones</span>
                        </div>
                        <div class="span4">
                            {{ form_widget(form.color_text_button) }}
                        </div>

                    </div>

                    <div class="control-group">
                        <div class="span4 offset2">
                            <h3>Su nombre en varavan</h3>
                            <span style="color: #555;">Importante! Este nombre será el que se utilizará en su acceso, solo se permiten carácteres alfanuméricos</span>
                        </div>
                        <div class="span4">
                            {{ form_widget(form.professional.user.username) }}
                        </div>

                    </div>
                    </div>




                    {{ form_widget(form._token) }}
                    <hr>
                    <input type="submit" class="btn btn-block btn-success" value="Guardar cambios">
                </div>
        </fieldset>
        </form>
    </div>
</div>

    
{% endblock %}
